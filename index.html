<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yDance Events</title>
    <!-- GitHub Pages deployment trigger -->
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007bff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="yDance">
</head>
<body>
    <!-- Mode Toggle Button (Icon Only) -->
    <button class="mode-toggle" id="mode-toggle" title="Toggle light/dark mode" aria-label="Toggle theme">
        <svg id="mode-toggle-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <!-- Moon icon for dark mode (default) -->
            <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18 10a.75.75 0 00.75-.75V7a.75.75 0 00-1.5 0v2.25A.75.75 0 0018 10zM17.25 17.25a.75.75 0 011.5 0V20a.75.75 0 01-1.5 0v-2.75zM12 18a.75.75 0 00.75.75H15a.75.75 0 000-1.5h-2.25A.75.75 0 0012 18zM7.758 17.25a.75.75 0 00-1.5 0V20a.75.75 0 001.5 0v-2.75zM6 10a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 10zM2.25 6.75a.75.75 0 00-1.5 0V7.5a.75.75 0 001.5 0v-.75zm11.409-3.376a.75.75 0 001.06 0l1.5-1.5a.75.75 0 10-1.06-1.061l-1.5 1.5a.75.75 0 000 1.06zm3.376 12.5a.75.75 0 10-1.06-1.06l-1.5 1.5a.75.75 0 101.06 1.06l1.5-1.5zM4.281 4.22a.75.75 0 00-1.06 0l-1.5 1.5a.75.75 0 101.06 1.06l1.5-1.5a.75.75 0 000-1.06zm12.5 12.5a.75.75 0 00-1.06 0l-1.5 1.5a.75.75 0 101.06 1.06l1.5-1.5a.75.75 0 000-1.06z"/>
        </svg>
    </button>
    
    <div id="app">
        <!-- Tab Navigation -->
        <nav class="tab-navigation" id="tab-navigation">
            <div class="tab-container">
                <button class="tab-button active" data-tab="events" id="tab-events">
                    <span class="tab-label">Events</span>
                </button>
                <button class="tab-button" data-tab="djs" id="tab-djs">
                    <span class="tab-label">DJs</span>
                </button>
                <button class="tab-button" data-tab="venues" id="tab-venues">
                    <span class="tab-label">Venues</span>
                </button>
                <button class="tab-button" data-tab="rave-operators" id="tab-rave-operators">
                    <span class="tab-label">MAKERS</span>
                </button>
                <button class="tab-button" data-tab="connections" id="tab-connections">
                    <span class="tab-label">CONNECT</span>
                </button>
                <!-- NOSTR Dev Tab (only shown if nostrDevTab flag enabled) -->
                <button class="tab-button nostr-dev-tab" data-tab="nostr" id="tab-nostr" style="display: none;">
                    <span class="tab-label">NOSTR</span>
                </button>
                <button class="nostr-refresh-button" id="nostr-refresh-btn" title="Refresh Nostr Data">
                    <span class="refresh-icon">↻</span>
                </button>
            </div>
            
            <!-- Auth Status Bar -->
            <div class="auth-status-bar" id="auth-status-bar">
                <div class="auth-info" id="auth-info">
                    <span class="auth-status" id="auth-status">Not signed in</span>
                    <span class="auth-user" id="auth-user" style="display: none;"></span>
                </div>
                <!-- Event Lists Indicators (only shown when logged in) -->
                <div class="event-lists-indicators" id="event-lists-indicators" style="display: none;">
                    <span class="list-indicator" id="saved-indicator" onclick="router.showSavedEvents()">[SAVED: <span id="saved-count">0</span>]</span>
                    <span class="list-indicator" id="maybe-indicator" onclick="router.showMaybeComparison()">[MAYBE: <span id="maybe-count">0</span>]</span>
                    <span class="list-indicator" id="going-indicator" onclick="router.showGoingEvents()">[GOING: <span id="going-count">0</span>]</span>
                </div>
                <div class="auth-actions" id="auth-actions">
                    <button class="auth-button" id="login-btn">Login</button>
                    <button class="auth-button" id="signup-btn">Sign Up</button>
                    <button class="auth-button" id="logout-btn" style="display: none;">Logout</button>
                </div>
            </div>
        </nav>
        
        <!-- Events View -->
        <div class="events-view" id="events-view">
            <div class="view-header">
                <h2>yDance Events</h2>
                <div class="view-header-actions">
                    <div class="time-range-selector" id="time-range-selector">
                        <button class="time-range-button" id="time-range-button" onclick="router.toggleTimeRangeMenu()">
                            [WEEKEND]
                        </button>
                        <div class="time-range-menu" id="time-range-menu" style="display: none;">
                            <button class="time-range-option" onclick="router.setTimeRange('weekend')">[WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('week')">[WEEK]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('next-weekend')">[NEXT WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('custom'); return false;">[CUSTOM]</button>
                            <div class="time-range-custom" id="time-range-custom" style="display: none;">
                                <div class="date-scroll-container">
                                    <div class="date-scroll" id="date-scroll"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <span id="events-date-sort" class="sortable-date-header" onclick="router.toggleDateSort()" style="cursor: pointer; margin-right: 15px;">
                        DATE ↑
                    </span>
                    <button id="event-view-toggle" class="view-toggle-button" onclick="router.toggleEventViewMode()" title="Toggle between list and card view">
                        [EXPAND]
                    </button>
                </div>
            </div>
            <div class="events-container" id="events-container">
                <!-- Events will be loaded here dynamically -->
            </div>
        </div>
        
        <!-- DJ Profiles View -->
        <div class="dj-view" id="dj-view" style="display: none;">
            <div class="view-header">
                <button id="back-to-events" class="back-button">← Back to Events</button>
                <h2>DJ Profiles</h2>
                <div class="view-header-actions">
                    <div class="time-range-selector" id="time-range-selector-djs">
                        <button class="time-range-button" id="time-range-button-djs" onclick="router.toggleTimeRangeMenu('djs')">
                            [WEEKEND]
                        </button>
                        <div class="time-range-menu" id="time-range-menu-djs" style="display: none;">
                            <button class="time-range-option" onclick="router.setTimeRange('weekend')">[WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('week')">[WEEK]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('next-weekend')">[NEXT WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('custom'); return false;">[CUSTOM]</button>
                            <div class="time-range-custom" id="time-range-custom-djs" style="display: none;">
                                <div class="date-scroll-container">
                                    <div class="date-scroll" id="date-scroll-djs"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <span id="djs-date-sort" class="sortable-date-header" onclick="router.toggleDateSort()" style="cursor: pointer; margin-right: 15px;">
                        DATE ↑
                    </span>
                    <button id="dj-view-toggle" class="view-toggle-button" onclick="router.toggleDJViewMode()" title="Toggle between list and card view">
                        [EXPAND]
                    </button>
                </div>
            </div>
            <div class="dj-profiles-container" id="dj-profiles-container">
                <!-- DJ profiles will be loaded here when needed -->
            </div>
        </div>
        
        <!-- Individual DJ Profile View -->
        <div class="dj-profile-view" id="dj-profile-view" style="display: none;">
            <div class="view-header">
                <button id="back-to-dj-list" class="back-button">← Back to DJs</button>
                <h2 id="dj-profile-title">DJ Profile</h2>
            </div>
            <div class="dj-profile-container" id="dj-profile-container">
                <!-- Individual DJ profile will be loaded here -->
            </div>
        </div>
        
        <!-- DJ Upcoming Events View -->
        <div class="dj-upcoming-view" id="dj-upcoming-view" style="display: none;">
            <div class="view-header">
                <button id="back-to-dj-profile" class="back-button" onclick="router.showDJProfileView(state.selectedDJ)">← Back to Profile</button>
                <h2 id="dj-upcoming-title">Upcoming Events</h2>
            </div>
            <div class="dj-upcoming-container" id="dj-upcoming-container">
                <!-- DJ's upcoming events will be loaded here -->
            </div>
        </div>
        
        <!-- DJ Reviews View -->
        <div class="dj-reviews-view" id="dj-reviews-view" style="display: none;">
            <div class="view-header">
                <button id="back-to-dj-profile-from-reviews" class="back-button">← Back to Profile</button>
                <h2 id="dj-reviews-title">Reviews</h2>
            </div>
            <div class="dj-reviews-container" id="dj-reviews-container">
                <!-- Reviews will be loaded here -->
            </div>
        </div>
        
        <!-- User Event Lists Views -->
        <!-- SAVED Events View -->
        <div class="user-events-view" id="saved-events-view" style="display: none;">
            <div class="view-header">
                <button class="back-button" onclick="router.switchTab('events')">← Back to Events</button>
                <h2>SAVED Events</h2>
            </div>
            <div class="events-container" id="saved-events-container">
                <!-- Saved events will be loaded here -->
            </div>
        </div>
        
        <!-- MAYBE Events Comparison View -->
        <div class="maybe-comparison-view" id="maybe-comparison-view" style="display: none;">
            <div class="view-header">
                <button class="back-button" onclick="router.switchTab('events')">← Back to Events</button>
                <h2>COMPARE MAYBE Events</h2>
            </div>
            <div class="maybe-comparison-container" id="maybe-comparison-container">
                <!-- Comparison view will be loaded here -->
            </div>
        </div>
        
        <!-- GOING Events View -->
        <div class="user-events-view" id="going-events-view" style="display: none;">
            <div class="view-header">
                <button class="back-button" onclick="router.switchTab('events')">← Back to Events</button>
                <h2>GOING Events</h2>
            </div>
            <div class="events-container" id="going-events-container">
                <!-- Going events will be loaded here -->
            </div>
        </div>
        
        <!-- Review Submission Modal -->
        <div class="modal" id="review-modal" style="display: none;">
            <div class="modal-content terminal-modal">
                <div class="modal-header">
                    <h2>Submit Review</h2>
                    <button class="modal-close" onclick="views.closeReviewModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- User Selector (if no real user) -->
                    <div id="user-selector-section" style="display: none;">
                        <div class="form-group">
                            <label>Select User:</label>
                            <select id="emulated-user-select" class="terminal-input">
                                <option value="">-- Select User --</option>
                            </select>
                        </div>
                        <button id="confirm-user-btn" class="terminal-button" onclick="views.confirmEmulatedUser()">Confirm User</button>
                    </div>
                    
                    <!-- Review Form -->
                    <div id="review-form-section" style="display: none;">
                        <div class="form-group">
                            <label>Rating (0-5):</label>
                            <input type="number" id="review-rating" class="terminal-input" min="0" max="5" step="0.1" value="5">
                        </div>
                        <div class="form-group">
                            <label>Comment:</label>
                            <textarea id="review-comment" class="terminal-input" rows="4" placeholder="Your review..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Event (optional):</label>
                            <input type="text" id="review-event" class="terminal-input" placeholder="Event title">
                        </div>
                        <div class="form-actions">
                            <button id="submit-review-btn" class="terminal-button" onclick="views.submitReview()">Submit Review</button>
                            <button class="terminal-button secondary" onclick="views.closeReviewModal()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Individual Event Details View -->
        <div class="event-details-view" id="event-details-view" style="display: none;">
            <div class="view-header">
                <button id="back-to-events-list" class="back-button">← Back to Events</button>
                <h2 id="event-details-title">Event Details</h2>
            </div>
            <div class="event-details-container" id="event-details-container">
                <!-- Individual event details will be loaded here -->
            </div>
        </div>
        
        <!-- Individual Venue Details View -->
        <div class="venue-details-view" id="venue-details-view" style="display: none;">
            <div class="view-header">
                <button id="back-to-venues" class="back-button">← Back to Venues</button>
                <h2 id="venue-details-title">Venue Details</h2>
            </div>
            <div class="venue-details-container" id="venue-details-container">
                <!-- Individual venue details will be loaded here -->
            </div>
        </div>
        
        <!-- Individual Sound System Details View -->
        
        <!-- Venues View -->
        <div class="venues-view" id="venues-view" style="display: none;">
            <div class="view-header">
                <h2>Venues</h2>
                <div class="view-header-actions">
                    <div class="time-range-selector" id="time-range-selector-venues">
                        <button class="time-range-button" id="time-range-button-venues" onclick="router.toggleTimeRangeMenu('venues')">
                            [WEEKEND]
                        </button>
                        <div class="time-range-menu" id="time-range-menu-venues" style="display: none;">
                            <button class="time-range-option" onclick="router.setTimeRange('weekend')">[WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('week')">[WEEK]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('next-weekend')">[NEXT WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('custom'); return false;">[CUSTOM]</button>
                            <div class="time-range-custom" id="time-range-custom-venues" style="display: none;">
                                <div class="date-scroll-container">
                                    <div class="date-scroll" id="date-scroll-venues"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <span id="venues-date-sort" class="sortable-date-header" onclick="router.toggleDateSort()" style="cursor: pointer; margin-right: 15px;">
                        DATE ↑
                    </span>
                    <button id="venue-view-toggle" class="view-toggle-button" onclick="router.toggleVenueViewMode()" title="Toggle between list and card view">
                        [EXPAND]
                    </button>
                </div>
            </div>
            <div class="venues-container" id="venues-container">
                <!-- Venues will be loaded here dynamically -->
            </div>
        </div>
        
        <!-- MAKERS View -->
        <div class="rave-operators-view" id="rave-operators-view" style="display: none;">
            <div class="view-header">
                <h2>MAKERS</h2>
                <div class="view-header-actions">
                    <div class="time-range-selector" id="time-range-selector-makers">
                        <button class="time-range-button" id="time-range-button-makers" onclick="router.toggleTimeRangeMenu('makers')">
                            [WEEKEND]
                        </button>
                        <div class="time-range-menu" id="time-range-menu-makers" style="display: none;">
                            <button class="time-range-option" onclick="router.setTimeRange('weekend')">[WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('week')">[WEEK]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('next-weekend')">[NEXT WEEKEND]</button>
                            <button class="time-range-option" onclick="router.setTimeRange('custom'); return false;">[CUSTOM]</button>
                            <div class="time-range-custom" id="time-range-custom-makers" style="display: none;">
                                <div class="date-scroll-container">
                                    <div class="date-scroll" id="date-scroll-makers"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sub-Tabs for MAKERS -->
            <div class="rave-operators-sub-tabs" id="rave-operators-sub-tabs">
                <button class="sub-tab-button active" data-sub-tab="sound" id="sub-tab-sound">
                    <span class="sub-tab-label">SOUND</span>
                </button>
                <button class="sub-tab-button" data-sub-tab="lighting" id="sub-tab-lighting">
                    <span class="sub-tab-label">LIGHTING</span>
                </button>
                <button class="sub-tab-button" data-sub-tab="leads" id="sub-tab-leads">
                    <span class="sub-tab-label">LEADS</span>
                </button>
                <button class="sub-tab-button" data-sub-tab="hospitality" id="sub-tab-hospitality">
                    <span class="sub-tab-label">HOSPITALITY</span>
                </button>
            </div>
            
            <!-- Event Table Views (one for each sub-tab) -->
            <div class="rave-operators-table-view" id="rave-operators-table-view">
                <div class="operators-table-container" id="operators-table-container">
                    <!-- Table will be loaded here based on selected sub-tab -->
                </div>
            </div>
            
            <!-- Provider List Views (for each sub-tab) -->
            <div class="provider-list-view" id="provider-list-view" style="display: none;">
                <div class="provider-list-container" id="provider-list-container">
                    <!-- Provider list will be loaded here -->
                </div>
            </div>
            
            <!-- Provider Detail View (Expanded) -->
            <div class="provider-detail-view" id="provider-detail-view" style="display: none;">
                <div class="provider-detail-container" id="provider-detail-container">
                    <!-- Provider detail will be loaded here -->
                </div>
            </div>
        </div>
        
        <!-- Individual Operator Profile View (Legacy - keep for backward compatibility) -->
        <div class="operator-profile-view" id="operator-profile-view" style="display: none;">
            <div class="view-header">
                <button id="back-to-rave-operators" class="back-button">← Back to Rave Operators</button>
                <h2 id="operator-profile-title">Operator Profile</h2>
            </div>
            <div class="operator-profile-container" id="operator-profile-container">
                <!-- Individual operator profile will be loaded here -->
            </div>
        </div>
        
        <!-- Connections View (formerly Users) -->
        <div class="connections-view" id="connections-view" style="display: none;">
            <div class="view-header">
                <h2>CONNECTIONS</h2>
            </div>
            
            <!-- User Portal Tabs -->
            <div class="user-portal-tabs">
                <button class="user-tab-button active" data-user-tab="you" id="user-tab-you">
                    <span class="tab-label">YOU</span>
                </button>
                <button class="user-tab-button" data-user-tab="them" id="user-tab-them">
                    <span class="tab-label">THEM</span>
                </button>
                <button class="user-tab-button" data-user-tab="inbox" id="user-tab-inbox">
                    <span class="tab-label">INBOX</span>
                </button>
            </div>
            
            <!-- YOU Tab Content -->
            <div class="user-tab-content active" id="user-tab-content-you">
                <div class="user-section">
                    <div class="section-header">
                        <h3>YOUR REVIEWS</h3>
                    </div>
                    <div class="user-reviews-container" id="user-reviews-container">
                        <!-- User's reviews will be loaded here -->
                    </div>
                </div>
                
                <div class="user-section">
                    <div class="section-header">
                        <h3>EVENTS</h3>
                        <span class="section-note">(Feature coming: mark events as 'going' or 'went')</span>
                    </div>
                    <div class="user-events-container" id="user-events-container">
                        <div class="empty-state">> Event tracking coming soon</div>
                    </div>
                </div>
                
                <div class="user-section">
                    <div class="section-header">
                        <h3>INTERACTIONS</h3>
                        <span class="section-note">(Profiles associated with your activity)</span>
                    </div>
                    <div class="user-interactions-container" id="user-interactions-container">
                        <div class="empty-state">> Interactions coming soon</div>
                    </div>
                </div>
            </div>
            
            <!-- THEM Tab Content -->
            <div class="user-tab-content" id="user-tab-content-them">
                <div class="user-section">
                    <div class="section-header">
                        <h3>DJs YOU DIG</h3>
                    </div>
                    <div class="user-djs-container" id="user-djs-container">
                        <div class="empty-state">> DJs you follow coming soon</div>
                    </div>
                </div>
                
                <div class="user-section">
                    <div class="section-header">
                        <h3>LINKED PROFILES</h3>
                    </div>
                    <div class="user-linked-profiles-container" id="user-linked-profiles-container">
                        <div class="empty-state">> Linked profiles coming soon</div>
                    </div>
                </div>
                
                <div class="user-section">
                    <div class="section-header">
                        <h3>EVENT SUGGESTIONS</h3>
                    </div>
                    <div class="user-suggestions-container" id="user-suggestions-container">
                        <div class="empty-state">> Suggestions coming soon</div>
                    </div>
                </div>
            </div>
            
            <!-- INBOX Tab Content -->
            <div class="user-tab-content" id="user-tab-content-inbox">
                <div class="user-section">
                    <div class="section-header">
                        <h3>INBOX</h3>
                        <span class="section-note">(Appearance only - development pending)</span>
                    </div>
                    <div class="user-inbox-container" id="user-inbox-container">
                        <div class="empty-state">> Inbox feature coming soon</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- NOSTR Development Tools View -->
        <div class="nostr-view" id="nostr-view" style="display: none;">
            <div class="view-header">
                <h2>NOSTR Development Tools</h2>
            </div>
            
            <!-- Connection Status -->
            <div class="nostr-status-section">
                <h3>Connection Status</h3>
                <div class="nostr-status-grid">
                    <div class="nostr-status-item">
                        <span class="nostr-status-label">Status:</span>
                        <span class="nostr-status-value" id="nostr-connection-status">Disconnected</span>
                    </div>
                    <div class="nostr-status-item">
                        <span class="nostr-status-label">Relay:</span>
                        <span class="nostr-status-value" id="nostr-relay-url">-</span>
                    </div>
                    <div class="nostr-status-item">
                        <span class="nostr-status-label">Has Keys:</span>
                        <span class="nostr-status-value" id="nostr-has-keys">No</span>
                    </div>
                    <div class="nostr-status-item">
                        <span class="nostr-status-label">Feed Count:</span>
                        <span class="nostr-status-value" id="nostr-feed-count">0</span>
                    </div>
                    <div class="nostr-status-item">
                        <span class="nostr-status-label">Last Sync:</span>
                        <span class="nostr-status-value" id="nostr-last-sync">Never</span>
                    </div>
                </div>
                <button id="nostr-refresh-status" class="nostr-button secondary">Refresh Status</button>
            </div>
            
            <!-- Key Management -->
            <div class="nostr-section">
                <h3>Key Management</h3>
                <div class="nostr-button-group">
                    <button id="nostr-generate-keys" class="nostr-button">Generate New Keys</button>
                    <button id="nostr-test-keygen" class="nostr-button secondary">Test Key Generation</button>
                    <button id="nostr-test-encryption" class="nostr-button secondary">Test Encryption</button>
                </div>
                <div class="nostr-keys-display" id="nostr-keys-display">
                    <p class="nostr-placeholder">No keys generated yet</p>
                </div>
            </div>
            
            <!-- Connection Tools -->
            <div class="nostr-section">
                <h3>Connection Management</h3>
                <div class="nostr-input-group">
                    <input type="text" id="nostr-relay-input" class="nostr-input" placeholder="wss://relay.beginnersurfer.com" value="wss://relay.beginnersurfer.com">
                    <button id="nostr-connect" class="nostr-button">Connect</button>
                    <button id="nostr-disconnect" class="nostr-button secondary">Disconnect</button>
                    <button id="nostr-health-check" class="nostr-button secondary">Health Check</button>
                </div>
                <div class="nostr-result" id="nostr-connection-result"></div>
            </div>
            
            <!-- Query Tools -->
            <div class="nostr-section">
                <h3>Query Tools</h3>
                <div class="nostr-button-group">
                    <button id="nostr-query-events" class="nostr-button">Query Events</button>
                    <button id="nostr-query-profiles" class="nostr-button secondary">Query Profiles</button>
                    <button id="nostr-fetch-feed" class="nostr-button secondary">Fetch Feed</button>
                </div>
                <div class="nostr-result" id="nostr-query-results">
                    <p class="nostr-placeholder">No queries run yet</p>
                </div>
            </div>
            
            <!-- Dev Tools -->
            <div class="nostr-section">
                <h3>Dev Tools</h3>
                <div class="nostr-button-group">
                    <button id="nostr-test-connection" class="nostr-button">Test Connection</button>
                    <button id="nostr-get-status" class="nostr-button secondary">Get Status</button>
                </div>
                <div class="nostr-result" id="nostr-dev-results">
                    <p class="nostr-placeholder">No tests run yet</p>
                </div>
            </div>
            
            <!-- Admin Features (Future) -->
            <div class="nostr-section">
                <h3>Admin Tools</h3>
                <p class="nostr-placeholder">Future: Event moderation, user management, etc.</p>
            </div>
        </div>
        
        <!-- Auth Modal -->
        <div class="auth-modal" id="auth-modal" style="display: none;">
            <div class="auth-modal-content">
                <div class="auth-modal-header">
                    <h3 id="auth-modal-title">Login</h3>
                    <button class="auth-modal-close" id="auth-modal-close">&times;</button>
                </div>
                <div class="auth-modal-body">
                    <!-- Authentication Form -->
                    <form id="auth-form">
                        <div class="auth-form-group">
                            <label for="auth-email">Email:</label>
                            <input type="email" id="auth-email" placeholder="your@email.com" required>
                        </div>
                        <div class="auth-form-group" id="password-group">
                            <label for="auth-password">Password:</label>
                            <input type="password" id="auth-password" placeholder="Enter password" required>
                        </div>
                        <div class="auth-form-actions">
                            <button type="submit" id="auth-submit-btn">Log in</button>
                            <button type="button" id="auth-cancel-btn">Cancel</button>
                        </div>
                        <!-- Email link option (only for login mode, independent) -->
                        <div class="auth-method-toggle" id="auth-method-toggle" style="display: none;">
                            <div class="auth-divider">OR</div>
                            <button type="button" id="auth-email-link-btn" class="auth-link-button">
                                Get email link (no password needed)
                            </button>
                        </div>
                    </form>
                    <div class="auth-switch">
                        <span id="auth-switch-text">Don't have an account?</span>
                        <button type="button" id="auth-switch-btn">Sign Up</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
        <!-- DJ Details Modal (Compact View) -->
        <div class="modal" id="dj-details-modal" style="display: none;">
            <div class="modal-content terminal-modal dj-details-modal">
                <div class="modal-header">
                    <h2 id="dj-details-modal-title">DJ Details</h2>
                    <button class="modal-close" onclick="views.closeDJDetailsModal()">&times;</button>
                </div>
                <div class="modal-body" id="dj-details-modal-body">
                    <!-- DJ details will be loaded here -->
                </div>
            </div>
        </div>
        
        <!-- Event Details Modal (Compact View) -->
        <div class="modal" id="event-details-modal" style="display: none;">
            <div class="modal-content terminal-modal event-details-modal">
                <div class="modal-header">
                    <h2 id="event-details-modal-title">Event Details</h2>
                    <button class="modal-close" onclick="views.closeEventDetailsModal()">&times;</button>
                </div>
                <div class="modal-body" id="event-details-modal-body">
                    <!-- Event details will be loaded here -->
                </div>
            </div>
        </div>
        
        <!-- Location Selection Modal -->
        <div class="location-modal" id="location-modal" style="display: none;">
            <div class="location-modal-content">
                <div class="location-prompt">
                    <p class="location-prompt-text">> SELECT CITY:</p>
                    <select class="location-dropdown" id="location-dropdown">
                        <option value="">-- select city --</option>
                        <option value="amsterdam">Amsterdam</option>
                        <option value="barcelona">Barcelona</option>
                        <option value="berlin">Berlin</option>
                        <option value="london">London</option>
                        <option value="los-angeles">Los Angeles</option>
                        <option value="madrid">Madrid</option>
                        <option value="melbourne">Melbourne</option>
                        <option value="mexico-city">Mexico City</option>
                        <option value="montreal">Montreal</option>
                        <option value="new-york">New York</option>
                        <option value="paris">Paris</option>
                        <option value="rome">Rome</option>
                        <option value="sao-paulo">São Paulo</option>
                        <option value="sydney">Sydney</option>
                        <option value="tokyo">Tokyo</option>
                        <option value="toronto">Toronto</option>
                        <option value="vancouver">Vancouver</option>
                    </select>
                    <button class="location-select-button" id="location-select-btn">[SELECT]</button>
                </div>
            </div>
        </div>
    
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://unpkg.com/nostr-tools@2.0.0/dist/nostr-tools.umd.js"></script>
    <script>
        // Make nostr-tools available globally
        window.nostrTools = window.nostrTools || window.nostr;
    </script>
    <script src="script.js"></script>
</body>
</html>
